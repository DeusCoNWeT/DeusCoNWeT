<link rel="stylesheet" href="styles/userHome.css">

<div ng-container id="container">
  
  <div class="componentContainer horizontal layout wrap">
    <facebook-wall component_directory="bower_components/facebook-wall/" language="{{idioma}}" ng-drag access_token="{{user.tokens.facebook}}" class="facebook-wall"></facebook-wall>

    <instagram-timeline id="componentTested" ng-drag endpoint="http://instagram-timeline.appspot.com/request/instagram" access-token="2062815740.34af286.169a9c42e1404ae58591d066c00cb979" component_directory="bower_components/instagram-timeline/static/" ></instagram-timeline>

    <div class="userFormContainer">
      <paper-material elevation="2" class="userForm" id="initialQuestionaire" hidden>
        <form is="iron-form">
          <paper-radio-group id="initialQuestion">
            <p class="questionText">{{language.questionary.define}}</p>
            <paper-radio-button name="1">{{language.questionary.component.verybad}} </paper-radio-button><br>
            <paper-radio-button name="2">{{language.questionary.component.bad}}</paper-radio-button><br>
            <paper-radio-button name="3">{{language.questionary.component.neutral}}</paper-radio-button><br>
            <paper-radio-button name="4">{{language.questionary.component.good}}</paper-radio-button><br>
            <paper-radio-button name="5">{{language.questionary.component.verygood}} </paper-radio-button><br>
            <paper-button raised class="submitButton" ng-click="_submitRating($event)">{{language.send}}</paper-button>
          </paper-radio-group>
        </form>
      </paper-material>

      

      <!-- Confirmation to take an aditional questionaire about the component-->
      <paper-material elevation="2" id="continueMenu" class="userForm" hidden>
        <paper-radio-group>
          <p> {{language.questionary.help}}</p>
          <paper-button raised id="yesButton" ng-click="_action('yes')">{{language.questionary.yes}} </paper-button>
          <paper-button raised id="noButton" ng-click="_action('no')">{{language.questionary.no}} </paper-button>
        </paper-radio-group>
      </paper-material>

      <!-- Aditional questionaire -->
      <!-- NOTA: Para cambiar/añadir preguntas, seguir los siguientes pasos/consideraciones:
          - Añadir un form (dentro del aditionalForm), con un paper-radio-group, con el id que identificará a la pregunta (se utilizará como el nombre de evento que se envía a Mixpanel).
          - El p dentro del paper-radio-group, la pregunta que se le muestra al usuario, se manda también tal cual a Mixpanel (p tiene que ser de la clase questionText).
          - La pregunta obligatoria de momento está orientada a la plataforma.
          - De momento las respuestas tienen todas la misma ponderación ({{language.questionary.amplied.verybad}}, 5. Completamente de acuerdo). Si se quiere cambiar esta escala en alguna pregunta, sería necesario cambiar los name="..." de todos los formularios, para que enviabaden también la respuesta completa y no sólo el número.
      -->
      <paper-material id="aditionalForm" elevation="2" class="userForm" hidden>
        <form is="iron-form" >
          <p> Componente Random </p>
          <paper-radio-group id="question2" class="aditionalQuestion" >
            <p class="questionText">{{language.questionary.difficulty}} </p>
            <paper-radio-button name="1"> {{language.questionary.amplied.verybad}} </paper-radio-button><br>
            <paper-radio-button name="2">{{language.questionary.amplied.bad}}</paper-radio-button><br>
            <paper-radio-button name="3">{{language.questionary.amplied.neutral}}</paper-radio-button><br>
            <paper-radio-button name="4">{{language.questionary.amplied.good}}</paper-radio-button><br>
            <paper-radio-button name="5">{{language.questionary.amplied.verygood}}</paper-radio-button><br>
          </paper-radio-group>
        </form>

        <form is="iron-form">
          <paper-radio-group id="question3" class="aditionalQuestion">
            <p class="questionText">{{language.questionary.design}}</p>
            <paper-radio-button name="1"> {{language.questionary.amplied.verybad}} </paper-radio-button><br>
            <paper-radio-button name="2">{{language.questionary.amplied.bad}}</paper-radio-button><br>
            <paper-radio-button name="3">{{language.questionary.amplied.neutral}}</paper-radio-button><br>
            <paper-radio-button name="4">{{language.questionary.amplied.good}}</paper-radio-button><br>
            <paper-radio-button name="5">{{language.questionary.amplied.verygood}}</paper-radio-button><br>
          </paper-radio-group>
        </form>

        <form is="iron-form">
          <paper-radio-group id="question4" class="aditionalQuestion">
            <p class="questionText">{{language.questionary.information}}</p>     
            <paper-radio-button name="1"> {{language.questionary.amplied.verybad}} </paper-radio-button><br>
            <paper-radio-button name="2">{{language.questionary.amplied.bad}}</paper-radio-button><br>
            <paper-radio-button name="3">{{language.questionary.amplied.neutral}}</paper-radio-button><br>
            <paper-radio-button name="4">{{language.questionary.amplied.good}}</paper-radio-button><br>
            <paper-radio-button name="5">{{language.questionary.amplied.verygood}}</paper-radio-button><br>
          </paper-radio-group>
        </form>

        <!-- Confirmation to take an aditional questionaire about the component-->
        <form is="iron-form">
          <paper-radio-group id="question5" class="aditionalQuestion">
            <p class="questionText">{{language.questionary.share}}</p>
            <paper-radio-button name="Si">{{language.questionary.yes}}</paper-radio-button>
            <paper-radio-button name="No">{{language.questionary.no}}</paper-radio-button>
          </paper-radio-group>
        </form>

        <form is="iron-form">
          <paper-radio-group id="question6" class="aditionalQuestion">
            <p class="questionText">{{language.questionary.recommend}}</p>
            <paper-radio-button name="Si">{{language.questionary.yes}}</paper-radio-button>
            <paper-radio-button name="No">{{language.questionary.no}}</paper-radio-button>
          </paper-radio-group>
        </form>

      <paper-button raised class="submitButton" ng-click="_submitExtendedQuestionaire()">{{language.send}}</paper-button>

    </paper-material>

    <paper-material elevation="2" class="userForm" id="ThanksDialog" hidden>
      <p>{{language.questionary.end}}</p>
      <paper-button raised id="yesButton" ng-click="_hideEndDialog()"> Ok </paper-button>
    </paper-material>

  </div>


  <!-- <div class="horizontal around-justified layout"> -->
    <div class="vertical layout end" id="listOption" style="z-index:1">
      <div id="menuArrow" ng-click="showMenu()" ng-class="{hidden: isMenuHidden()}">
        <iron-icon id="menu-icon" icon="arrow-back"></iron-icon>
      </div>

      <!-- Añadir un elemento -->
      <div id="add" ng-class="{hidden: isMenuHidden('add')}">
        <!-- HEADER -->
        <div class="horizontal layout" ng-class="{corto: !isMenuHidden('add')}">
          <div class="div_button" ng-click="ocultar('add'); setSelected('add')" ng-class="{sort: !sort[0]}">
            <iron-icon icon="add-box"></iron-icon>
          </div>
          <div class="flex horizontal layout dropdown" ng-click="setList('add'); setSort('add')" ng-class="{sort: sort[0]}">
            <p ng-show="showElement?true:showSingle=='add'" class="flex"> {{language.user_action.add}}</p>
            <iron-icon id="arrowAdd" ng-show="showElement?true:showSingle=='add'" class="dropdown" icon="arrow-drop-down">
            </iron-icon>
          </div>
        </div>

        <!-- Options -->
        <div class="animate-show list" ng-show="showlist('add')" >
          <div ng-repeat="element in listComponents | arrayFilter:listComponentAdded">
            <p  class="elementList" ng-create-element id-element="{{element.name}}" list-attributes="{{element.attributes}}">{{element.name}}</p>
          </div>
          <!-- Default -->
          <div ng-if="listComponents.length == 0">
            <p class="elementList">{{language.componentListEmpty}}</p>
          </div>
        </div>
      </div>

      <!-- Borrar un elemento -->
      <div id="delete" ng-class="{hidden: isMenuHidden('delete')}">
        <!-- HEADER -->
        <div class="horizontal layout" ng-class="{corto: !isMenuHidden('delete')}">
          <div class="div_button" ng-click="ocultar('delete'); setSelected('delete'); sort=[false, false, false]" ng-class="{sort: sort[1]}">
            <iron-icon icon="delete"></iron-icon>
          </div>
          <div class="flex horizontal layout dropdown" ng-click="setList('delete'); setSort('delete')" class="dropdown" ng-class="{sort: sort[1]}">
            <p ng-show="showElement?true:showSingle=='delete'" class="flex" style=""> {{language.user_action.delete}}</p>
            <iron-icon id="arrowDelete" ng-show="showElement?true:showSingle=='delete'" class="dropdown" icon="arrow-drop-down">
            </iron-icon>
          </div>
        </div>

        <!-- Options-->
        <div class="animate-show list" ng-show="showlist('delete')">
          <div class="horizontal layout center deleteOption" draggable="true" ng-repeat="element in listComponentAdded">
            <p class="flex elementList">{{element}}</p>
            <paper-icon-button class="icon" ng-click="deleteTimeline(element)" icon="cancel"></paper-icon-button>
          </div>
          <!-- Default -->
          <div ng-if="listComponentAdded.length == 0">
            <p class="elementList">{{language.componentAddedEmpty}}</p>
          </div>
        </div>
      </div>

      <!-- modifica un elemento -->
<!--      <div id="modify" ng-class="{hidden: isMenuHidden('modify')}">
        <div class="horizontal layout" ng-class="{corto: !isMenuHidden('modify')}">
          <div class="div_button" ng-click="ocultar('modify'); setSelected('modify'); sort=[false, false, false]" ng-class="{sort: sort[2]}">
            <iron-icon icon="create"></iron-icon>
          </div>
          <div class="flex horizontal layout dropdown" ng-click="setList('modify'); setSort('modify')" ng-class="{sort: sort[2]}">
            <p ng-show="showElement?true:showSingle=='modify'" class="dropdown flex">  {{language.user_action.modify}}</p>
            <iron-icon id="arrowModify" ng-show="showElement?true:showSingle=='modify'" class="dropdown" icon="arrow-drop-down">
            </iron-icon>
          </div>
        </div>-->

        <!-- Options -->
<!--        <div class="animate-show list" ng-show="showlist('modify')" >
          <div class="horizontal layout center deleteOption" ng-repeat="element in listComponentAdded" ng-click="setModifySelected(element)" ng-class="{modifySelected: isModifySelected(element)}">
            <p class="flex elementList">{{element}}</p>
          </div>-->
          <!-- Default -->
<!--          <div ng-if="listComponentAdded.length == 0">
            <p class="elementList">{{language.componentAddedEmpty}}</p>
          </div>
        </div>
      </div>-->

      <!-- help and popup -->
      <div id="help" ng-class="{hidden: isMenuHidden('help')}" data-dialog="helpModal" ng-click="showToggleHelp($event)" style="max-width:170px">
        <iron-icon icon="help"></iron-icon>
        <span ng-show="showElement" style="padding-left: 10px;">{{language.user_action.help}}</span>
      </div>
    </div>    
 <!-- </div> End ng-container -->
</div> <!-- end vertical layout -->
  <paper-dialog id="helpModal" modal>
    <h2 >{{language.user_action.help}}</h2>
    <div class="help-text vertical center-justified layout">
      <p>
        <strong>{{language.user_action.add}}</strong><span>: {{language.help.add}}</span>
      </p>
      <p>
        <strong>{{language.user_action.delete}}</strong>: <span>{{language.help.delete}}</span>
      </p>
      <p>
        <strong>{{language.user_action.modify}}</strong>: <span>{{language.help.modify}}</span>
      </p>
    </div>
    <div class="buttons">
      <paper-button dialog-confirm autofocus class="blue">{{language.close}}</paper-button>
    </div>
  </paper-dialog>

