!function(){"use strict";var e=angular.module("picbit",["ngAnimate","ngResource","ngRoute","ngSanitize","ngTouch","ng-polymer-elements"]);e.config(["$locationProvider","$routeProvider","$httpProvider",function(e,r,t){t.defaults.withCredentials=!0,r.when("/",{templateUrl:"views/landingPage.html",controller:"LandingController",resolve:{auth:["$cookies","$backend","$rootScope","$q","$location",function(e,r,t,o,n){var l=e.get("session"),i=e.get("user"),a=e.get("social_network");l&&i&&a&&r.getUser(i).then(function(e){return t.user=e.data,t.isLogged=!0,t.unauthorized?void 0:(n.path("/user/"+i),o.when())},function(e){return console.error(e.data.error),r.logout(),o.when()})}]}}).when("/user/:user_id",{templateUrl:"views/userHome.html",controller:"UserHomeController",resolve:{auth:["$q","$cookies","$backend","$rootScope","$route",function(e,r,t,o,n){var l=r.get("session"),i=r.get("user");return n.current.params.user_id!==i?e.reject({authorized:!1}):l&&i?void t.getUser(i).then(function(r){return o.user=r.data,o.isLogged=!0,e.when(l)},function(r){return console.error("Error "+r.status+": al intentar coger los datos del usuario "+i),e.reject()}):e.reject({authenticated:!1})}]}}).when("/about",{templateUrl:"views/about.html",controller:"AboutController"}).when("/contact",{templateUrl:"views/contact.html",controller:"ContactController"}).when("/user/:userId/profile",{templateUrl:"views/profile.html",controller:"ProfileController",resolve:{auth:["$q","$cookies","$backend","$rootScope",function(e,r,t,o){var n=r.get("session"),l=r.get("user");return n&&l?void t.getUser(l).then(function(r){return o.user=r.data,e.when(n)},function(r){return console.error("Error "+r.status+": al intentar coger los datos del usuario "+l),e.reject()}):e.reject({authenticated:!1})}]}}).when("/privacy",{templateUrl:"views/privacy.html",controller:"PrivacyController"}).when("/selectId",{templateUrl:"views/selectId.html",controller:"SelectidController",resolve:{auth:["$q","$rootScope",function(e,r){return r.register?e.when(r.register):e.reject({register:!1})}]}}).otherwise({redirectTo:"/"}),e.html5Mode(!0)}]),e.run(["$rootScope","$location",function(e,r){e.$on("$routeChangeError",function(t,o,n,l){l.authorized?l.authenticated&&l.register||r.path("/"):(e.unauthorized=!0,r.path("/"))})}])}(wrap(document));
//# sourceMappingURL=app.min.js.map